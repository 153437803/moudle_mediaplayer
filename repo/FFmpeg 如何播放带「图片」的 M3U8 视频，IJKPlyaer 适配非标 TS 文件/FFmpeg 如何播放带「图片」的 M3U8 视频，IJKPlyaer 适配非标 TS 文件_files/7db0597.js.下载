(window.webpackJsonp=window.webpackJsonp||[]).push([[44],{1313:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));n(7),n(24);var o=n(5),r=n(8),c=n(104),l=n(18),d=n(11),h=function(){var e=Object(o.a)(regeneratorRuntime.mark((function e(){var t,n=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:1e3,e.abrupt("return",setTimeout((function(){return Promise.resolve()}),t));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function f(e){return m.apply(this,arguments)}function m(){return(m=Object(o.a)(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t||Object(d.h)()){e.next=17;break}if(localStorage.getItem(l.a.userFirstVisitDispatchCoupon)!==t){e.next=4;break}return e.abrupt("return");case 4:return e.prev=4,e.next=7,c.a.UserCouponReceiveDiscountFirstOrder({},{showError:!1});case 7:if((null==(n=e.sent)?void 0:n.err_no)!==r.ERROR_NO.OK){e.next=12;break}return localStorage.setItem(l.a.userFirstVisitDispatchCoupon,t),e.next=12,h();case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(4),console.error("userFirstVisitDispatchCoupon api request error:",e.t0);case 17:case"end":return e.stop()}}),e,null,[[4,14]])})))).apply(this,arguments)}},2733:function(e,t,n){},2734:function(e,t,n){},2735:function(e,t,n){},2736:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));n(72),n(163);var o=n(189);function r(e,t){var n,r,c=localStorage.getItem("hideExtension"),l=void 0!==(null!==(r=(null!==(n=null===document||void 0===document?void 0:document.cookie)&&void 0!==n?n:"").split(";"))&&void 0!==r?r:[]).find((function(e){return"_jj_ext=1"===e.trim()})),d=(null==t?void 0:t.utm_source)===o.i;return(null==e?void 0:e.isDesktop)&&!c&&!l&&!d}},2737:function(e,t,n){},2738:function(e,t,n){},4040:function(e,t,n){"use strict";n(2733)},4041:function(e,t,n){"use strict";n(2734)},4042:function(e,t,n){e.exports=n.p+"img/233.6b9e673.png"},4043:function(e,t,n){e.exports=n.p+"img/666.5f186ea.png"},4044:function(e,t,n){e.exports=n.p+"img/thumbs-up.33598de.png"},4045:function(e,t,n){"use strict";n(2735)},4046:function(e,t,n){n(21),n(19),n(15),n(7),n(17);var o=n(142),r=n(161);function c(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}e.exports={functional:!0,render:function(e,t){var n=t._c,data=(t._v,t.data),l=t.children,d=void 0===l?[]:l,h=data.class,f=data.staticClass,style=data.style,m=data.staticStyle,v=data.attrs,_=void 0===v?{}:v,w=r(data,["class","staticClass","style","staticStyle","attrs"]);return n("svg",function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?c(Object(source),!0).forEach((function(t){o(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):c(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}({class:[h,f],style:[style,m],attrs:Object.assign({width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},_)},w),d.concat([n("circle",{attrs:{cx:"12",cy:"12",r:"11",fill:"black","fill-opacity":"0.4"}}),n("circle",{attrs:{cx:"12",cy:"12",r:"11.5",stroke:"white","stroke-opacity":"0.4"}}),n("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M8.96924 8.24087C8.76787 8.0395 8.4414 8.0395 8.24003 8.24087C8.03867 8.44223 8.03867 8.76871 8.24003 8.97007L11.2919 12.022L8.02407 15.2898C7.82271 15.4912 7.82271 15.8177 8.02407 16.019C8.22543 16.2204 8.55191 16.2204 8.75327 16.019L12.0211 12.7512L15.289 16.019C15.4904 16.2204 15.8168 16.2204 16.0182 16.019C16.2196 15.8177 16.2196 15.4912 16.0182 15.2898L12.7503 12.022L15.8022 8.97007C16.0036 8.76871 16.0036 8.44223 15.8022 8.24087C15.6009 8.0395 15.2744 8.0395 15.073 8.24087L12.0211 11.2928L8.96924 8.24087Z",fill:"white","fill-opacity":"0.9"}})]))}}},4047:function(e,t,n){"use strict";n(2737)},4048:function(e,t,n){"use strict";n(2738)},4616:function(e,t,n){"use strict";n.r(t);n(21),n(19),n(15),n(7),n(17),n(112),n(71),n(103),n(39),n(40),n(46);var o=n(0),r=(n(24),n(5)),c=n(6),l=n(53),d=n.n(l),h=n(90),f=n(82),m=n(1313),v=n(369),_={props:["type","content"]},w=(n(4040),n(29)),O={components:{Alert:Object(w.a)(_,(function(){var e=this.$createElement;return(this._self._c||e)("div",{staticClass:"alert",class:[this.type]},[this._v(this._s(this.content))])}),[],!1,null,"6b99392a",null).exports},props:["timeout"],data:function(){return{list:[]}},mounted:function(){var e=this;this.$on("push",(function(t){e.list.unshift(t),window.setTimeout((function(){e.list=e.list.filter((function(e){return e!==t}))}),e.timeout||3e3)}))}},y=(n(4041),Object(w.a)(O,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"alert-list"},this._l(this.list,(function(e,n){return t("alert",{key:n,staticClass:"alert",attrs:{content:e.content,type:e.type}})})),1)}),[],!1,null,"262fe4c6",null).exports),T={233:n(4042),666:n(4043),up:n(4044)};function C(e){for(var t=[],i=0;i<15;i++){var n=parseInt(14*Math.random()+16)+"px",o=E("width",n),r=E("height",n),c=E("display","block"),l=E("position","absolute"),d=E("left",parseInt(100*Math.random())+"%"),h=E("top",parseInt(100*Math.random())+"%"),f=E("background","url(".concat(T[e],") no-repeat center center")),m=E("background-size","contain"),v='\n      <span class="barrage-emoji" style="'.concat(o+r+l+d+h+f+c+m,'">\n       </span>\n    ');t.push(v)}return function(e){return'\n        <div\n          class="template"\n          style="\n            position:relative;\n            width:100%;\n            height:100%;\n          "\n        >\n          '.concat(e,"\n        </div>\n      ")}(t.join(""))}function E(e,t){return"".concat(e,":").concat(t,";")}var j={data:function(){return{running:{type:"233",show:!1},barrageShowDuration:6100,barrageTimeout:null,barrageHtml:[]}},methods:{stop:function(){clearTimeout(this.barrageTimeout),this.running.show=!1},renderBarrage:function(){this.barrageHtml=function(e){for(var t=[],n=0;n<3;n++){var o=C(e);t.push(o)}return t}(this.running.type),this.$nextTick((function(){document.querySelectorAll(".emoji-inner-screen").forEach((function(e){e.classList.add("animate")}))}))}},watch:{"running.show":function(e){var t=this;clearTimeout(this.barrageTimeout),e&&(this.renderBarrage(),this.barrageTimeout=setTimeout((function(){t.running.show=!1}),this.barrageShowDuration))}},mounted:function(){var e=this,t=this.$getBean("eventBus");t.onVmLife(this,t.eventType.ARTICLE_COMMENT_BARRAGE,(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"233";e.running.type=t,e.running.show=!0}))}},R=(n(4045),Object(w.a)(j,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"emoji-barrage"},[e.running.show?n("div",{staticClass:"full-screen",on:{dblclick:e.stop}},e._l(e.barrageHtml,(function(t,o){return n("div",{staticClass:"emoji-inner-screen",class:"emojin-inner-screen__"+o,domProps:{innerHTML:e._s(t)}})})),0):e._e()])}),[],!1,null,"68506677",null).exports),k=n(2736),P=n(9),L=n(4046),M=n.n(L),A=n(18),S=n(3),x=Object(P.d)({components:{CloseIcon:M.a},emits:["show"],setup:function(e,t){var n=t.root,o=t.emit,l=[{name:"timelineIndex",alias:"home",traceShowKey:"ad_web_pop_show",traceClickKey:"ad_web_pop_click"},{name:"column",alias:"post",traceShowKey:"ad_web_article_pop_show",traceClickKey:"ad_web_article_pop_click"}],h=Object(c.v)(),f=Object(P.r)(),m=function(){var e=localStorage.getItem(A.a.showAdTccModal)||"[]",t=[];try{var n=JSON.parse(e);Array.isArray(n)&&(t=n)}catch(e){console.error(e),t=[]}return t},v=function(){return l.filter((function(e){return e.name===(h.value.name||"")}))},_=function(){var e=Object(r.a)(regeneratorRuntime.mark((function e(){var t,r,c,l,h,_,O;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.$device.isDesktop){e.next=2;break}return e.abrupt("return");case 2:if(!(c=v()).length){e.next=13;break}return e.next=6,n.$store.dispatch(S.TCC_CONFIG,"juejin_config_web_ad_home_post");case 6:l=e.sent,h=(null===(t=l)||void 0===t?void 0:t[c[0].alias])||[],_=Date.now()/1e3,(O=h.filter((function(e){return _>d()(e.startTime).unix()&&_<d()(e.endTime).unix()}))).length&&!m().includes("".concat((null===(r=O[0])||void 0===r?void 0:r.id)||""))&&(o("show"),f.value=O[0],w(c[0].traceShowKey)),e.next=14;break;case 13:f.value&&(f.value=void 0);case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(P.x)((function(){return h.value.name}),(function(){_()})),Object(P.m)((function(){_()}));var w=function(e){var t,o;e&&n.$TEA(e,{id:(null===(t=f.value)||void 0===t?void 0:t.id)||"",ad_url:(null===(o=f.value)||void 0===o?void 0:o.url)||""})},O=function(e){var t,o,r;n.$TEA(null===(t=v()[0])||void 0===t?void 0:t.traceClickKey,{id:(null===(o=f.value)||void 0===o?void 0:o.id)||"",ad_url:(null===(r=f.value)||void 0===r?void 0:r.url)||"",click_type:e})};return{activeAd:f,closeAd:function(){var e;localStorage.setItem(A.a.showAdTccModal,JSON.stringify(m().concat(["".concat((null===(e=f.value)||void 0===e?void 0:e.id)||"")]))),O("skip"),f.value=void 0},handleClick:function(){O("enter"),window.open(f.value.url,"_blank")}}}}),I=(n(4047),Object(w.a)(x,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.activeAd?n("div",{staticClass:"poster-wrap",on:{click:function(t){return t.stopPropagation(),e.handleClick(t)}}},[n("div",{staticClass:"poster-close-wrap",on:{click:function(t){return t.stopPropagation(),e.closeAd(t)}}},[n("CloseIcon",{staticClass:"poster-close-icon"})],1),e._v(" "),n("div",{staticClass:"poster-img-wrap"},[n("img",{staticClass:"poster-img",attrs:{src:e.activeAd.imgUrl}})]),e._v(" "),n("div",{staticClass:"poster-title"},[e._v(e._s(e.activeAd.title))])]):e._e()}),[],!1,null,"1012127a",null).exports),V=n(935),D=n(949),N=n(20);var U=n(87),B=n(178),$=n(32),F=n(42),G=n(240);function H(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function K(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?H(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):H(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var Y=0,J=["/bind","/login","/mobile/lottery","/mobile/lottery/welfare","/getting-started","/app","/delete/account","/mobile/bugfix","/bugfix/rank","/challenge/1","/challenge/1/detail"],Q=Object(c.b)({components:{Barrage:R,AlertList:y,ErrorView:function(){return Promise.resolve().then(n.bind(null,421))},BindPhoneModal:function(){return n.e(33).then(n.bind(null,4554))},NewUserLead:function(){return n.e(141).then(n.bind(null,4647))},PinModal:function(){return n.e(73).then(n.bind(null,4732))},AuthModal:function(){return n.e(18).then(n.bind(null,4553))},SuspensionPanel:function(){return n.e(166).then(n.bind(null,1654))},ActivityRecommend:function(){return n.e(230).then(n.bind(null,4733))},ExtensionRecommend:function(){return n.e(215).then(n.bind(null,4734))},AccountDeleteModal:function(){return n.e(188).then(n.bind(null,2816))},VipBorrowModal:function(){return n.e(201).then(n.bind(null,4682))},UserGrowthLead:function(){return n.e(118).then(n.bind(null,4645))},UserGrowthPopup:function(){return n.e(144).then(n.bind(null,4735))},UpgradeBox:function(){return n.e(192).then(n.bind(null,4736))},Report:function(){return Promise.all([n.e(361),n.e(137)]).then(n.bind(null,4683))},LoginGuide:function(){return n.e(34).then(n.bind(null,4555))},HomePostTccAd:I,FixedResourceTccConfig:function(){return n.e(208).then(n.bind(null,4737))},DarkModeNotification:function(){return n.e(200).then(n.bind(null,4738))},RiskModal:function(){return n.e(218).then(n.bind(null,4739))}},setup:function(e,t){var n=t.root,o=Object(c.x)(),l=Object(c.w)();o.dispatch(S.LOAD_THEME);var d=Object(D.b)(n),h=d.showReportModal,m=d.reportModalData,v=Object(U.d)(A.a.juejinDarkNotification)[A.a.juejinDarkNotification],_=Object(U.b)(A.a.juejinDarkNotification).handleJuejinDarkNotificationDismiss,w=Object(c.a)((function(){return Object(N.h)(l.currentRoute.fullPath)}));Object(c.j)((function(){var e,t,r=n.$getBean("eventBus");r.onVmLife(n,r.eventType.REPORT_CONTENT,h),!w.value&&(null===(t=null===(e=o.state.auth)||void 0===e?void 0:e.user)||void 0===t?void 0:t.user_id)&&(o.dispatch(S.FETCH_ORE_COUNT),o.dispatch(S.FETCH_AVATAR_MENU_INFO),f.a.CompleteTask().catch((function(){})))}));var style=Object(c.a)((function(){var e;return null===(e=n.$store.getters[S.TCC_STYLE])||void 0===e?void 0:e.trim()})),script=Object(c.a)((function(){var e;return null===(e=n.$store.getters[S.TCC_SCRIPT])||void 0===e?void 0:e.trim()})),O=function(){var e=Object(r.a)(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:script.value&&((t=document.createElement("script")).innerHTML=script.value,document.documentElement.appendChild(t)),style.value&&((n=document.createElement("style")).innerHTML=style.value,document.head.appendChild(n));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(c.j)((function(){n.$store.dispatch(S.FETCH_TCC)})),Object(c.y)([style,script],(function(){O()})),function(e){var t=Object(c.x)(),n=Object(c.w)(),o=Object(c.a)((function(){var e;return null===(e=t.state.auth)||void 0===e?void 0:e.userInitiated})),r=Object(c.a)((function(){var e;return null===(e=t.state.auth)||void 0===e?void 0:e.user})),l=Object(c.a)((function(){return Object(N.h)(n.currentRoute.fullPath)}));Object(c.y)(o,(function(t){l.value&&t&&e(!!r.value)}),{immediate:!0})}((function(e){e&&(o.dispatch(S.FETCH_ORE_COUNT),o.dispatch(S.FETCH_AVATAR_MENU_INFO),f.a.CompleteTask())})),K(K({},Object(U.c)()),{},{reportModalData:m,darkModeVisible:v,onDarkNotificationClose:_})},data:function(){return{visibleAuthForm:null,isSuspensionPanelVisible:!1,isAlertListVisible:!1,newuserTicket:!1,isVisiblePinEditor:!1,isBindPhoneNumberModalVisible:!1,captchaType:"SLIDE",verifyCallback:"",bindPhoneMsg:"",to:"",isLogoutModalVisible:!1,UserLeadPopupShowed:!1,isFromMainPageSigninClick:!1,enter_method:"",newLeadVisibility:!1,bindPhoneOption:{},popupMutex:!1,isShowVipBorrow:!1,vipTeaParams:{},bookInfo:{},hideRecommendComponent:!1,closeRedirectParams:null,loginGuideFooterVisible:!1,hasTccAd:!1}},computed:K(K({},Object(h.mapGetters)({user:S.USER,activity:S.ACTIVITY,logined:S.LOGINED,unreadNotificationCount:S.UNREAD_NOTIFICATION_COUNT,errorView:S.ERROR_VIEW,statusCode:S.STATUS_CODE,needSuspension:S.NEED_SUSPENSION,needRiskModal:S.NEED_RISK_MODAL,userInitiated:S.USER_INITIATED})),{},{displayedUnreadNotificationAmount:function(){return Object(G.c)(this.unreadNotificationCount.total)},titleTemplate:function(){return this.displayedUnreadNotificationAmount?"(".concat(this.displayedUnreadNotificationAmount,") %s - 掘金"):"%s - 掘金"},date:function(){return Object($.b)(new Date,"MMDD")},recommendComponent:function(){var e,t;return this.hideRecommendComponent||["login","lognIndex","bindIndex","offer","presalePay","presaleIndex","presaleResult","vipIndex","vipPayResult","membership","membershipHome","integral","property","mall"].includes(this.$route.name)||this.$route.path.startsWith("/creator")?null:1===(null===(e=this.activity[2020])||void 0===e?void 0:e.is_show)?"ActivityRecommend":Object(k.a)(null===(t=this.$nuxt)||void 0===t?void 0:t.context,this.$route.query)?"ExtensionRecommend":null},isMobile:function(){return this.$device.isMobile},isPathExcluded:function(){var path=this.$router.currentRoute.path;return J.some((function(e){return e===path}))}}),watch:{visibleAuthForm:function(e){this.visibleMobileExtension(!e)},user:function(e){var t=this.$route.name||"";("courseIndex"!==t||this.$route.path.includes("bytetech"))&&(["bookInfo","column"].includes(t)||Object(m.a)((null==e?void 0:e.user_id)||""))},$route:function(){this.checkLogin(),this.handleLeadModal(),this.modalStyleTimer&&clearTimeout(this.modalStyleTimer),this.modalStyleTimer=setTimeout((function(){document.body.style.overflow="",document.body.style.paddingRight=""}),300)},userInitiated:{handler:function(e){var t=this;e&&(this.handleLeadModal(),this.checkLogin(),this.$device.isDesktop&&Object(v.a)({name:"login_guide",key:"login_type",value:["nav","all"],defaultValue:"default"}).then((function(e){if(e){var n=t.$getBean("eventBus");n.onVmLife(t,n.eventType.HEADER_NAV_VISIBILITY_CHANGE,(function(e){var n=e.visible,o=window.localStorage.getItem(A.a.loginGuideFooterTime);t.user||n||t.recommendComponent||t.hasTccAd||d()().isSame(o,"day")||(t.loginGuideFooterVisible=!0,t.$TEA("login_guide_show",{from:V.a.footer,type:V.b.auto}),window.localStorage.setItem(A.a.loginGuideFooterTime,d()().format("YYYY-MM-DD")))}))}})))},immediate:!0}},mounted:function(){Y=new Date,this.initEventListener(),this.mountAlertList(),this.mountSuspensionPanel(),this.fetchUnreadNotificationCount(),this.$store.dispatch(S.ACTIVITY),this.modalStyleTimer=null,"1"!==window.sessionStorage.getItem("IS_DELETE")||this.popupMutex||this.isPathExcluded||(this.isLogoutModalVisible=!0,this.popupMutex=!0,window.sessionStorage.removeItem("IS_DELETE"))},beforeDestroy:function(){Object(F.q)(this.handleVisibilityChange),this.modalStyleTimer&&clearTimeout(this.modalStyleTimer)},methods:K(K({},Object(h.mapActions)({fetchUnreadNotificationCount:S.FETCH_UNREAD_NOTIFICATION_COUNT,fetchCurrentUser:S.FETCH_CURRENT_USER})),{},{visibleMobileExtension:function(e){var t=document.getElementById("mobile-newuser-ticket");null!==t&&(t.style.opacity=Number(e))},checkLogin:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){var n,o,r,c,l;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.$store.getters.USER){t.next=6;break}return t.next=3,e.$store.dispatch(S.TCC_CONFIG,"juejin_login_config");case 3:c=t.sent,(null==(l=null===(r=null===(o=null===(n=c)||void 0===n?void 0:n.mustLogin)||void 0===o?void 0:o.bookIds)||void 0===r?void 0:r.map((function(e){return{reg:new RegExp("^/((book)|(video))/(m/)?".concat(e,"/section/\\d+$")),id:e}})))?void 0:l.length)&&window.location.pathname&&l.forEach((function(t){var n=t.reg,o=t.id;n.test(window.location.pathname)&&e.$requestLogin({closeRedirectParams:{name:"bookInfo",params:{id:o}}})}));case 6:case"end":return t.stop()}}),t)})))()},handleLeadModal:function(){var e;this.$device.isDesktop&&(null===(e=this.user)||void 0===e?void 0:e.need_lead)&&"timelineIndex"===this.$route.name&&(this.popupMutex||(this.newLeadVisibility=!0,this.popupMutex=!0))},initEventListener:function(){var e=this,t=this.$getBean("eventBus"),n=t.eventType;t.onVmLife(this,n.VISIBLE_LOGOUT_MODAL,(function(){e.isLogoutModalVisible=!0})),t.onVmLife(this,n.REQUEST_LOGIN,(function(t){var n=t||{},o=n.click,r=void 0!==o&&o,c=n.enterMethod,l=n.closeRedirectParams,d=n.successRedirectUrl;e.isFromMainPageSigninClick=r,e.enter_method=c,e.visibleAuthForm="login-with-phone",e.newuserTicket=null,e.closeRedirectParams=l||null,e.to=d||""})),t.onVmLife(this,n.SHOW_VIP_BORROW_MODAL,(function(t,n){e.isShowVipBorrow=!0,e.bookInfo=t,e.vipTeaParams=n})),t.onVmLife(this,n.REQUEST_LOGIN_REDIRECT,(function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",o=arguments.length>2?arguments[2]:void 0;e.isFromMainPageSigninClick=t,e.enter_method=n,e.visibleAuthForm="login-with-phone",e.newuserTicket=null,e.to=o})),t.onVmLife(this,n.REQUEST_REGISTER,(function(t){e.visibleAuthForm="register",e.newuserTicket=t})),t.onVmLife(this,n.REQUEST_RESET_PASSWORD,(function(){e.visibleAuthForm="reset-password"})),t.onVmLife(this,n.AUTHORIZED,(function(){e.visibleAuthForm=null})),t.onVmLife(this,n.REQUEST_LOGOUT,(function(){e.$store.dispatch(S.LOGOUT)})),t.onVmLife(this,n.ALERT,(function(content,t){e.$refs.alertList.$emit("push",{content:content,type:t})})),t.onVmLife(this,n.CREATE_PIN,(function(t){e.isVisiblePinEditor="pin",e.editorProps=t})),t.onVmLife(this,n.BIND_PHONE_NUMBER,(function(t,option){e.bindPhoneMsg=t||"",e.isBindPhoneNumberModalVisible=!0,e.bindPhoneOption=option;var n=e.$getBean("eventBus");n.emit(n.eventType.LOCK_ROOT_CONTAINER_SCROLL)})),Object(B.d)(),Object(F.o)(this.handleVisibilityChange)},mountAlertList:function(){this.isAlertListVisible=!0},mountSuspensionPanel:function(){this.isSuspensionPanelVisible=!this.isPathExcluded},onBindPhoneNumberModalClose:function(){var e=this.$getBean("eventBus");this.fetchCurrentUser(),this.isBindPhoneNumberModalVisible=!1,e.emit(e.eventType.UNLOCK_ROOT_CONTAINER_SCROLL)},collectPageStayTime:function(){var e=0;Y&&(e=new Date-Y),this.$TEA("main_site_stay",{user_id:this.user?this.user.id:"unknown",page_link:window.location.href,stay_time:e}),Y=0},handleVisibilityChange:function(){var e=Object(F.d)();document[e]?this.collectPageStayTime():Y=new Date},closeRecommendComponent:function(){this.hideRecommendComponent=!0},closeAuthModal:function(e){this.visibleAuthForm=null,!0!==e&&this.closeRedirectParams&&this.$router.push(this.closeRedirectParams)}})}),W=(n(4048),Object(w.a)(Q,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"juejin"}},[e.errorView?n("ErrorView",{attrs:{"status-code":e.statusCode}}):n("router-view"),e._v(" "),e.recommendComponent?n(e.recommendComponent,{tag:"component",attrs:{logined:e.logined},on:{close:e.closeRecommendComponent}}):e._e(),e._v(" "),n("div",{staticClass:"global-component-box"},[e.isAlertListVisible?n("alert-list",{ref:"alertList",staticClass:"alert-list"}):e._e(),e._v(" "),e.isSuspensionPanelVisible&&e.needSuspension?n("suspension-panel",{staticClass:"suspension-panel",attrs:{"has-extension-banner":Boolean(e.recommendComponent)}}):e._e(),e._v(" "),e.visibleAuthForm?n("auth-modal",{attrs:{type:e.visibleAuthForm,"newuser-ticket":e.newuserTicket,to:e.to,"is-from-main-page-signin-click":e.isFromMainPageSigninClick,enter_method:e.enter_method},on:{close:e.closeAuthModal}}):e._e(),e._v(" "),e.isShowVipBorrow?n("VipBorrowModal",{attrs:{"book-info":e.bookInfo,"tea-params":e.vipTeaParams},on:{closeVipBorrowModal:function(t){e.isShowVipBorrow=!1}}}):e._e(),e._v(" "),e.isVisiblePinEditor?n("PinModal",{attrs:{"editor-props":e.editorProps},on:{close:function(t){e.isVisiblePinEditor=!1}}}):e._e(),e._v(" "),e.isBindPhoneNumberModalVisible?n("BindPhoneModal",{attrs:{visible:e.isBindPhoneNumberModalVisible,msg:e.bindPhoneMsg,to:e.bindPhoneOption.toUrl||"",closable:e.bindPhoneOption.closable,title:e.bindPhoneOption.title,"trigger-type":e.bindPhoneOption.triggerType},on:{close:e.onBindPhoneNumberModalClose}}):e._e()],1),e._v(" "),n("ClientOnly",[n("NewUserLead",{attrs:{visible:e.newLeadVisibility},on:{close:function(t){e.newLeadVisibility=!1},finish:function(t){e.newLeadVisibility=!1}}}),e._v(" "),e.user_growth_lead?n("UserGrowthLead",{attrs:{logined:e.logined},on:{confirm:function(t){return e.handleUser_growth_leadDismiss("confirm")},dismiss:function(t){return e.handleUser_growth_leadDismiss("dismiss")}}}):e._e(),e._v(" "),e.showUserGrowthPopup||e.showUserGrowthPopup.visible?n("UserGrowthPopup",{attrs:{popup:e.showUserGrowthPopup.data},on:{dismiss:e.handleShowUserGrowthPopupDismiss}}):e._e(),e._v(" "),n("UpgradeBox",{attrs:{visible:e.isUpgradeBoxVisible.visible,user:e.user,"growth-info":e.isUpgradeBoxVisible.data},on:{close:e.handleIsUpgradeBoxVisibleDismiss}})],1),e._v(" "),e.isLogoutModalVisible?n("AccountDeleteModal",{attrs:{"need-qrcode":!1},on:{close:function(t){e.isLogoutModalVisible=!1}}},[e._v("\n    掘友您好，您当前登录账号正在注销审核期，故无法访问稀土掘金内容。如果需要取消注销申请，请登录稀土掘金App，进行放弃注销操作。如果您有任何建议和反馈，可以发送邮箱到\n    feedback@xitu.io 联系我们。给您带来的不便，我们深感抱歉。\n  ")]):e._e(),e._v(" "),e.reportModalData.show?n("Report",{attrs:{"item-id":e.reportModalData.itemId,"item-type":e.reportModalData.idType},model:{value:e.reportModalData.visible,callback:function(t){e.$set(e.reportModalData,"visible",t)},expression:"reportModalData.visible"}}):e._e(),e._v(" "),n("ClientOnly",[n("RiskModal"),e._v(" "),n("FixedResourceTccConfig",{on:{show:function(t){e.hasTccAd=!0}}}),e._v(" "),n("HomePostTccAd",{class:{"home-post-tcc-add":!0,"tcc-ad-with-recommend":!!e.recommendComponent},on:{show:function(t){e.hasTccAd=!0}}}),e._v(" "),e.loginGuideFooterVisible?n("LoginGuide",{staticClass:"login-guide-popup",attrs:{position:"footer"},on:{close:function(t){e.loginGuideFooterVisible=!1}}}):e._e(),e._v(" "),n("DarkModeNotification",{attrs:{visible:e.darkModeVisible},on:{close:e.onDarkNotificationClose,ok:e.onDarkNotificationClose}})],1)],1)}),[],!1,null,null,null));t.default=W.exports},935:function(e,t,n){"use strict";var o,r;n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return r})),function(e){e.header="1",e.footer="2",e.feed="3",e.collect="4",e.comment="5",e.code="6"}(o||(o={})),function(e){e.auto="1",e.hover="2"}(r||(r={}))},949:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return l}));n(24);var o=n(5),r=n(6);function c(){var e=Object(r.c)();return{openReportModal:function(t,n){if(e){var o=e.proxy.$getBean("eventBus");o.emit(o.eventType.REPORT_CONTENT,t,n)}}}}function l(e){var t=Object(r.m)({visible:!1,show:!1});function n(){return(n=Object(o.a)(regeneratorRuntime.mark((function n(o,r){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e.$validLogin()){n.next=2;break}return n.abrupt("return");case 2:t.show||(t.show=!0),t.visible=!0,t.itemId=o,t.idType=r;case 6:case"end":return n.stop()}}),n)})))).apply(this,arguments)}return{reportModalData:t,showReportModal:function(e,t){return n.apply(this,arguments)}}}}}]);
//# sourceMappingURL=7db0597.js.map